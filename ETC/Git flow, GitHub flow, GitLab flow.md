# Git flow, GitHub flow, GitLab flow
> [출처](https://ujuc.github.io/2015/12/16/git-flow-github-flow-gitlab-flow/)

## Git Flow
- feature > develop > release > hotfix > master 브랜치가 존재하며, 머지 순서는 앞에서 뒤로 진행된다.
- 가장 중심이되는 브랜치는 master랑 develop 브랜치이며, 이 두개의 브랜치는 무조건 있어야된다고 보면된다.
- 머지된 feature, release, hotfix 브랜치는 삭제하도록 한다.


### Feature 브랜치
- 브랜치 나오는 곳 : develop
- 브랜치가 들어가는 곳 : develop
- 이름 지정 : master, develop, release-, hotfix-를 제외한 어떤 것이든 가능.
- 새로운 기능을 추가하는 브랜치이다.
- feature브랜치는 origin에는 반영하지 않고, 개발자의 reop애만 존재하도록 한다.

### Release 브랜치
- 브랜치 나오는 곳 : develop
- 브랜치가 들어가는 곳 : develop, master
- 이름 지정 : release-*
- 새로운 Production 릴리즈를 위한 브랜치이다.
- 지금까지 한 기능을 묶어 develop 브랜치에서 release 브랜치를 따내고, develop 브랜치에서는 다음번 릴리즈에서 사용할 기능을 추가한다.
- release 브랜치에서는 버그픽스에 대한 부분만 커밋하게되고, 릴리즈가 준비되었다고 생각하면 master로 머지를 진행한다. (이때도 --no-ff 옵션을 이용하여 머지하였음을 남긴다.) 
- master로 머지 후 tag 명령을 이용하여 릴리즈 버전에 대해 명시를 하고, -s 나 -u <key> 옵션을 이용하여 머지한 사람의 정보를 남겨두도록 한다. 그런뒤 develop 브랜치로 머지하여, release 브랜치에서 수정된 내용이 develop 브랜치에 반영이되도록 한다.

### Hotfix 브랜치
- 브랜치 나오는 곳 : master
- 브랜치가 들어가는 곳 : develop, master
- 이름 지정 : hotfix-*
- Production에서 발생한 버그들은 전부 여기로… 수정 끝나면, develop, master 브랜치에 반영하고, master에 다가는 tag 를 추가해준다.
- 만약 release 브랜치가 존재한다면, release 브랜치에 hotfix 브랜치를 머지하여 릴리즈될때 반영이 될 수 있도록 한다.



## GitHub Flow
- master 브랜치에대한 role만 정확하다면 나머지 브랜치들에는 관여를 하지 않는다. 그리고 pull request 기능을 사용하도록 권장을 한다.

### 특징
- release 브랜치가 명확하지 않는 시스템에서 사용에 맞게 되어있다.
- 여기에는 GitHub의 서비스 특성상. 릴리즈라는 개념이 없는 서비스를 진행하고 있어서 그런것으로 보이며, 웹 서비스들이 릴리즈라는 개념이 없이지고 있으니 사용하기 편할 것으로 보인다.
- hotfix와 가장 작은 기능을 구분하지 않는다. 어짜피 둘다 개발자가 수정해야되는 일중에 하나이다. 단지 우선 순위가 어디가 높냐라는 단계이다.

### 사용법
1. master 브랜치는 어떤 때든 배포가 가능하다.
	- master 브랜치는 항상 최신의 상태이며, stable 상태로 Product에 배포되는 브랜치이다. 그리고 이 브랜치에 대해서는 업격한 role를 주어 사용한다.

2. 새로운 일을 시작하기 위해 브랜치를 master에서 딴다면 이름은 어떤일을 하는지 명확하게 작성한다.
	- git flow 와는 다르게 feature 브랜치나 develop 브랜치가 존재하지 않는다. 그렇기에 새로운 기능을 추가하거나 버그를 해결하기 위한 브랜치의 이름은 자세하게 어떤 일을 하고 있는지에 대해서 작성해주도록 하자. Github 페이지에서 보면 어떤 일들이 진행되고 있는지를 확인하기 쉽게 말이다.

3. 원격지 브랜치로 수시로 push를 한다.
	- git flow 와 가장 상반되는 방식이다. 항상 원격지에 자신이 하고 있는 일들을 올려 다른 사람들도 확인할 수 있도록 해준다.
	- 이 방법의 좋은점은 하드웨어에 문제가 발생하여 작업하던 부분이 날라가더라고 원격지에 있는 소스를 받아서 작업을 할 수 있도록 해준다.

4. 피드백이나 도움이 필요할때, 그리고 머징 준비가 완료되었을때는 pull request를 생성한다.
	- pull request 는 코드 리뷰를 도와주는 시스템이다. 
	- 그렇기에 이것을 이용하여 자신의 코드를 공유하고, 리뷰를 받을 수 있도록 한다. 물론 머지가 준비 완료되어 master 브랜치로 반영을 요구하여도 된다.

5. 기능에 대한 리뷰와 사인이 끝난후 master로 머지한다.
	- 곧장 product로 반영이될 기능이기에 이해관계가 연결된 사람들과 충분한 논의 이후 반영하도록 한다.

6. master로 머지되고 푸시되었을때는 즉시 배포되어야 한다.
	- GitHub Flow의 핵심인듯한 master로 머지가 일어나면 hubot을 이용하여 자동으로 배포가 되도록 설정 해놓는다.


## GitLab Flow
- production 브랜치가 존재하여 커밋한 내용들을 일방적으로 디플로이를 하는 형태. GitHub에서 브랜치 하나를 더 구성하여 사용하는 이것도 조금은 간단한 구성이다.
- master와 production 사이에 pre-production을 두어 개발한 내용을 곧장 반영하지 않고 시간을 두고 반영을 하는 것을 말한다. 
- release한 브랜치를 두고서 보안상 문제가 발생한 것이나 백포트를 위해서 작업을 할 경우, cherry-pick을 이용해서 작업을 진행할 수 도 있다. 아니면 해당 릴리즈에서 발생하는 버그들을 묶어서 수정하는 방식을 진행하며된다. 일반적으로 말하는 ‘upstream first’ 정책이라고 보면된다.

